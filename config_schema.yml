# config_schema.yml
# Single source of truth for Spyglass directory structure
#
# CRITICAL: This must match src/spyglass/settings.py SpyglassConfig.relative_dirs
# If you modify this file, update settings.py to match (or vice versa)
#
# Structure: {PREFIX}_{KEY}_DIR environment variables are created
# Example: SPYGLASS_RAW_DIR, KACHERY_STORAGE_DIR, DLC_PROJECT_DIR, etc.

directory_schema:
  # Core Spyglass directories
  spyglass:
    raw: "raw"                # Raw NWB files
    analysis: "analysis"      # Analysis results
    recording: "recording"    # Recording data
    sorting: "spikesorting"   # Spike sorting outputs
    waveforms: "waveforms"    # Waveform data
    temp: "tmp"               # Temporary files
    video: "video"            # Video files
    export: "export"          # Export directory

  # Kachery cloud storage
  kachery:
    cloud: ".kachery-cloud"   # Kachery cloud config (hidden dir)
    storage: "kachery_storage" # Kachery data storage
    temp: "tmp"               # Temporary files

  # DeepLabCut directories
  dlc:
    project: "projects"       # DLC project files
    video: "video"            # DLC video files
    output: "output"          # DLC analysis outputs

  # MoSeq directories
  moseq:
    project: "projects"       # MoSeq project files
    video: "video"            # MoSeq video files

# Connection Security Configuration
# TLS (Transport Layer Security) encrypts database traffic to protect your data
tls:
  # Automatically enable encryption for network connections
  # Local connections (same machine) don't need encryption
  auto_enable_for_remote: true

  # Addresses that count as "local" (same machine as Spyglass)
  # Add your machine's hostname here if you run the database locally
  localhost_addresses:
    - "localhost"      # Standard local name
    - "127.0.0.1"      # IPv4 loopback
    - "::1"            # IPv6 loopback
